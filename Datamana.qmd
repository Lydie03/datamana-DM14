---
title: "Data Management Project"
author : Lou Dhiver and Lydie Lazure 
format: html
---
## Presentation of the project
We have decided to test the environmental Kuznet's curve theory. The idea is that a country will pollute a lot for a while in order to develop, and then reach a sufficient level of economic development to decrease its carbon dioxyde emissions. We would then get an inverted u shaped line in the plan (GDP per capita, pollution). 

We wish to very the empirical accuracy of this theory, both by regions and periods of times. Does is apply to different economical structures ? Does it apply at any time over the years ? 

We will then consider the subject around a more human matter. Pollution to the cost of a population's health : an impact on GDP ? And if so, can we quantify it ? 

## Loading the datasets
```{r}
library(tidyr)
library(vroom)

DALYs <- vroom::vroom("DALYs.csv")
death_air_pollution <- vroom::vroom("death-air-pollution.csv")
SDG <- vroom::vroom("SDG indicators.csv")
GDP_per_capita <- vroom::vroom("GDPperCapita.csv", delim=",")
```
## Data cleaning

### GDP per capita
By trying to get the column names of this dataset, we observed that it did not load properly. There were the first four row of the Excel sheet presenting the data, hence compromising the understanding of the separator ",". We removed the first four rows that did not contain any data and got a proper dataset to work with. 
```{r}
GDP_per_capita_cleaned <- vroom::vroom("GDPperCapita.csv", skip = 4, delim=",") 
```
### DALYs
This dataset is hard to work with in the sense that the columns have non explicit names. hence the following changes. 

```{r}
library(dplyr)

DALYs <- DALYs %>%
  rename(
    Mean_Value = FactValueNumeric,
    lowest_value = FactValueNumericLow,
    highest_value = FactValueNumericHigh,
    Sex = Dim1,
    Country = Location
  )
```

### Death air pollution adn SDG
The observations are the same as for DALYs, hence the following changes.

```{r}
SDG <- SDG %>%
  rename(
    Mean_Value = FactValueNumeric,
    lowest_value = FactValueNumericLow,
    highest_value = FactValueNumericHigh,
    Sex = Dim1,
    Country = Location
  )
```

```{r}
death_air_pollution <- death_air_pollution %>%
  rename(
    Mean_Value = FactValueNumeric,
    lowest_value = FactValueNumericLow,
    highest_value = FactValueNumericHigh,
    Sex = Dim1,
    Country = Location
  )
```


